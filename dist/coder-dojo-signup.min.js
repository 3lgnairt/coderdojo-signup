angular.module("coder-dojo-signup",["ui.router","ui.bootstrap"]),function(){function e(e,t,o){}angular.module("coder-dojo-signup").controller("AcceptController",e),e.$inject=["$scope","$rootScope","$state"]}(),function(){function e(e,t,o,r){function n(){}function c(){}function l(){}var a=this;t.$on("Register.CodeValid",function(e,t){a.code=t.code,a.auth=t.auth,a.spotsLeft=t.spotsLeft}),a.auth||(console.log("vm.auth not true"),r.go("closed")),a.form={ninjas:[{}],activities:[{name:"Scratch",selected:!1},{name:"Edison Robots",selected:!1},{name:"LEGO Mindstorm Robots",selected:!1},{name:"Website Development",selected:!1},{name:"Other",selected:!1}]},a.add=n,a.remove=c,a.register=l}angular.module("coder-dojo-signup").controller("FormController",e),e.$inject=["$http","$scope","$rootScope","$state"]}(),function(){function e(e,t,o,r){function n(){function t(e){console.log(e);var t={code:e.data.code,spotsLeft:e.data.spotsLeft,auth:!0};o.$broadcast("Register.CodeValid",t),console.log("params",t),r.go("form")}function n(e){console.log(e),401===e.status?alert("Sorry, that code is invalid, please check that you typed it correctly"):403===e.status?r.go("closed"):r.go("error")}c.code=c.code.trim().toLowerCase(),c.code=c.code.replace(/\s+/g,""),console.log(c.code);var l={method:"POST",url:"/api/validateCodes",header:{"Content-Type":"application/json"},data:{text:c.code}};e(l).then(t,n)}var c=this;c.code="",c.submit=n}angular.module("coder-dojo-signup").controller("RegisterController",e),e.$inject=["$http","$scope","$rootScope","$state"]}(),angular.module("coder-dojo-signup").controller("ViewController",["$scope","$http","$state",function(e,t,o){"use strict";e.ninjaCount=0,e.ninjas={},e.getNinjaCount=function(){return ninjaCount++,ninjaCount},t.get("/api/ninjaList").success(function(t){e.ninjas=t}).error(function(e){})}]),function(){function e(e,t){t.otherwise("/closed"),e.state("register",{url:"/register",templateProvider:["$templateCache",function(e){return e.get("app/register/register.html")}],controller:"RegisterController",controllerAs:"vm"}).state("form",{url:"/form",templateProvider:["$templateCache",function(e){return e.get("app/form/form.html")}],controller:"FormController"}).state("accept",{url:"/accept",templateProvider:["$templateCache",function(e){return e.get("app/accept/accept.html")}],controller:"AcceptController",controllerAs:"vm"}).state("error",{url:"/error",templateProvider:["$templateCache",function(e){return e.get("app/error/error.html")}]}).state("closed",{url:"/closed",templateProvider:["$templateCache",function(e){return e.get("app/closed/closed.html")}]}).state("view",{url:"/view",templateProvider:["$templateCache",function(e){return e.get("app/view/view.html")}],controller:"ViewController"})}angular.module("coder-dojo-signup").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImFjY2VwdC9hY2NlcHRDb250cm9sbGVyLmpzIiwiZm9ybS9mb3JtQ29udHJvbGxlci5qcyIsInJlZ2lzdGVyL3JlZ2lzdGVyQ29udHJvbGxlci5qcyIsInZpZXcvdmlld0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnRzL2NvbmZpZy9jb25maWcuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsIkFjY2VwdENvbnRyb2xsZXIiLCIkc2NvcGUiLCIkcm9vdFNjb3BlIiwiJHN0YXRlIiwiY29udHJvbGxlciIsIiRpbmplY3QiLCJGb3JtQ29udHJvbGxlciIsIiRodHRwIiwiYWRkIiwicmVtb3ZlIiwicmVnaXN0ZXIiLCJ2bSIsInRoaXMiLCIkb24iLCJldmVudCIsImRhdGEiLCJjb2RlIiwiYXV0aCIsInNwb3RzTGVmdCIsImNvbnNvbGUiLCJsb2ciLCJnbyIsImZvcm0iLCJuaW5qYXMiLCJhY3Rpdml0aWVzIiwibmFtZSIsInNlbGVjdGVkIiwiUmVnaXN0ZXJDb250cm9sbGVyIiwic3VibWl0Iiwic3VjY2VzcyIsInJlc3BvbnNlIiwiJGJyb2FkY2FzdCIsImVycm9yIiwic3RhdHVzIiwiYWxlcnQiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwicmVxIiwibWV0aG9kIiwidXJsIiwiaGVhZGVyIiwiQ29udGVudC1UeXBlIiwidGV4dCIsInRoZW4iLCJuaW5qYUNvdW50IiwiZ2V0TmluamFDb3VudCIsImdldCIsImNvbmZpZyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ0ZW1wbGF0ZVByb3ZpZGVyIiwiJHRlbXBsYXRlQ2FjaGUiLCJjb250cm9sbGVyQXMiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLHFCQUFBLFlBQUEsaUJDQUEsV0FXQSxRQUFBQyxHQUFBQyxFQUFBQyxFQUFBQyxJQVZBTCxRQUNBQyxPQUFBLHFCQUNBSyxXQUFBLG1CQUFBSixH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QUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQVAsSUFBQSw0QkFHQUssTUFBQSxVQUNBWixJQUFBLFVBQ0FhLGtCQUFBLGlCQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQVAsSUFBQSw4QkFHQUssTUFBQSxRQUNBWixJQUFBLFFBQ0FhLGtCQUFBLGlCQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQVAsSUFBQSx3QkFFQTNDLFdBQUEsbUJBckRBTixRQUNBQyxPQUFBLHFCQUNBaUQsT0FBQUEsR0FFQUEsRUFBQTNDLFNBQ0EsaUJBQ0EiLCJmaWxlIjoiY29kZXItZG9qby1zaWdudXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2NvZGVyLWRvam8tc2lnbnVwJywgWyd1aS5yb3V0ZXInLCAndWkuYm9vdHN0cmFwJ10pOyIsIihmdW5jdGlvbigpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2NvZGVyLWRvam8tc2lnbnVwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0FjY2VwdENvbnRyb2xsZXInLCBBY2NlcHRDb250cm9sbGVyKTtcblxuICAgIEFjY2VwdENvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckcm9vdFNjb3BlJyxcbiAgICAgICAgJyRzdGF0ZSdcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gQWNjZXB0Q29udHJvbGxlcigkc2NvcGUsICRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG5cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpe1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnY29kZXItZG9qby1zaWdudXAnKVxuICAgICAgICAuY29udHJvbGxlcignRm9ybUNvbnRyb2xsZXInLCBGb3JtQ29udHJvbGxlcik7XG5cbiAgICBGb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAgICAgICAnJGh0dHAnLFxuICAgICAgICAnJHNjb3BlJyxcbiAgICAgICAgJyRyb290U2NvcGUnLFxuICAgICAgICAnJHN0YXRlJ1xuICAgIF07XG5cbiAgICBmdW5jdGlvbiBGb3JtQ29udHJvbGxlcigkaHR0cCwgJHNjb3BlLCAkcm9vdFNjb3BlLCAkc3RhdGUpIHtcbiAgICAgICAgdmFyIHZtID0gdGhpcztcblxuICAgICAgICAvLyBUT0RPOiBhZGRpbmcgbW9yZSB0aGFuIG9uZSBuaW5qYSB2cyBjb3VudCB0aGluZ1xuICAgICAgICAkc2NvcGUuJG9uKCdSZWdpc3Rlci5Db2RlVmFsaWQnLCBmdW5jdGlvbiAoZXZlbnQgLGRhdGEpIHtcbiAgICAgICAgICAgIHZtLmNvZGUgPSBkYXRhLmNvZGU7XG4gICAgICAgICAgICB2bS5hdXRoID0gZGF0YS5hdXRoO1xuICAgICAgICAgICAgdm0uc3BvdHNMZWZ0ID0gZGF0YS5zcG90c0xlZnQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmKCF2bS5hdXRoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndm0uYXV0aCBub3QgdHJ1ZScpO1xuICAgICAgICAgICAgJHN0YXRlLmdvKCdjbG9zZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZtLmZvcm0gPSB7XG4gICAgICAgICAgICBuaW5qYXM6IFtcbiAgICAgICAgICAgICAgICB7fVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdTY3JhdGNoJywgc2VsZWN0ZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnRWRpc29uIFJvYm90cycsIHNlbGVjdGVkOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0xFR08gTWluZHN0b3JtIFJvYm90cycsIHNlbGVjdGVkOiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1dlYnNpdGUgRGV2ZWxvcG1lbnQnLCBzZWxlY3RlZDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdPdGhlcicsIHNlbGVjdGVkOiBmYWxzZSB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH07XG5cbiAgICAgICAgdm0uYWRkID0gYWRkO1xuICAgICAgICB2bS5yZW1vdmUgPSByZW1vdmU7XG4gICAgICAgIHZtLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkKCkge1xuXG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW1vdmUoKSB7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyICgpIHtcblxuICAgICAgICB9XG4gICAgfVxufSkoKTtcblxuLy9hbmd1bGFyLm1vZHVsZSgnY29kZXItZG9qby1zaWdudXAnKVxuLy8gICAgLmNvbnRyb2xsZXIoJ0Zvcm1Db250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRzdGF0ZSkge1xuLy8gICAgICAgICd1c2Ugc3RyaWN0Jztcbi8vXG4vLyAgICAgICAgJHNjb3BlLnNpZ251cCA9IHtcbi8vICAgICAgICAgICAgbmFtZTogJycsXG4vLyAgICAgICAgICAgIGVtYWlsOiAnJyxcbi8vICAgICAgICAgICAgbmluamFJbmZvcm1hdGlvbjogW1xuLy8gICAgICAgICAgICAgICAgeyBuYW1lOiAnJywgYWdlOiAnJywgbGFwdG9wUmVxdWlyZWQ6IGZhbHNlIH1cbi8vICAgICAgICAgICAgXSxcbi8vICAgICAgICAgICAgYWN0aXZpdGllczogW1xuLy8gICAgICAgICAgICAgICAgeyBuYW1lOiAnU2NyYXRjaCcsIHNlbGVjdGVkOiBmYWxzZSB9LFxuLy8gICAgICAgICAgICAgICAgeyBuYW1lOiAnUmFzcGJlcnJ5IFBpJywgc2VsZWN0ZWQ6IGZhbHNlIH0sXG4vLyAgICAgICAgICAgICAgICB7IG5hbWU6ICdFZGlzb24gUm9ib3RzJywgc2VsZWN0ZWQ6IGZhbHNlIH0sXG4vLyAgICAgICAgICAgICAgICB7IG5hbWU6ICdMRUdPIE1pbmRzdG9ybSBSb2JvdHMnLCBzZWxlY3RlZDogZmFsc2UgfSxcbi8vICAgICAgICAgICAgICAgIHsgbmFtZTogJ1dlYnNpdGUgRGV2ZWxvcG1lbnQnLCBzZWxlY3RlZDogZmFsc2UgfSxcbi8vICAgICAgICAgICAgICAgIHsgbmFtZTogJ1VuaXR5IEdhbWUgRGV2ZWxvcG1lbnQnLCBzZWxlY3RlZDogZmFsc2UgfSxcbi8vICAgICAgICAgICAgICAgIHsgbmFtZTogJ090aGVyJywgc2VsZWN0ZWQ6IGZhbHNlIH1cbi8vICAgICAgICAgICAgXSxcbi8vICAgICAgICAgICAgZGlldGFyeUNvbnNpZGVyYXRpb25zOiAnJ1xuLy8gICAgICAgIH07XG4vL1xuLy8gICAgICAgICRzY29wZS5hZGROaW5qYSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgICAgICAgICAgJHNjb3BlLnNpZ251cC5uaW5qYUluZm9ybWF0aW9uLnB1c2goe25hbWU6ICcnLCBhZ2U6ICcnLCBsYXB0b3BSZXF1aXJlZDogZmFsc2UgfSk7XG4vLyAgICAgICAgfTtcbi8vXG4vLyAgICAgICAgJHNjb3BlLnJlbW92ZU5pbmphID0gZnVuY3Rpb24gKG5pbmphKSB7XG4vLyAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5zaWdudXAubmluamFJbmZvcm1hdGlvbi5pbmRleE9mKG5pbmphKTtcbi8vXG4vLyAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4vLyAgICAgICAgICAgICAgICAkc2NvcGUuc2lnbnVwLm5pbmphSW5mb3JtYXRpb24uc3BsaWNlKGluZGV4LCAxKTtcbi8vICAgICAgICAgICAgfVxuLy8gICAgICAgIH07XG4vL1xuLy8gICAgICAgICRzY29wZS5yZWdpc3Rlck5pbmphID0gZnVuY3Rpb24gKCkge1xuLy8gICAgICAgICAgICBjb25zb2xlLmxvZygncmVnaXN0ZXJpbmcnKTtcbi8vXG4vLyAgICAgICAgICAgIHZhciByZXEgPSB7XG4vLyAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbi8vICAgICAgICAgICAgICAgIHVybDogJy9hcGkvcmVnaXN0ZXJOaW5qYScsXG4vLyAgICAgICAgICAgICAgICBoZWFkZXI6IHtcbi8vICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4vLyAgICAgICAgICAgICAgICB9LFxuLy8gICAgICAgICAgICAgICAgZGF0YToge2Zvcm06ICRzY29wZS5zaWdudXAsIGNvZGU6ICd0ZXN0J30gLy8gVE9ETzogdXBkYXRlIHdpdGggY29kZSB0aGV5IGFyZSByZWdpc3RlcmluZyB3aXRoXG4vLyAgICAgICAgICAgIH07XG4vL1xuLy8gICAgICAgICAgICAkaHR0cChyZXEpXG4vLyAgICAgICAgICAgICAgICAudGhlbihzdWNjZXNzLCBlcnJvcik7XG4vL1xuLy8gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4vLyAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VibWl0IGZvcm0gc3VjY2VzcycsIHJlc3BvbnNlKTtcbi8vICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYWNjZXB0Jyk7XG4vLyAgICAgICAgICAgIH1cbi8vXG4vLyAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycikge1xuLy8gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N1Ym1pdCBmb3JtIGVycicsIGVycik7XG4vLyAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2Vycm9yJyk7XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICB9O1xuLy8gICAgfSk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2NvZGVyLWRvam8tc2lnbnVwJylcbiAgICAgICAgLmNvbnRyb2xsZXIoJ1JlZ2lzdGVyQ29udHJvbGxlcicsIFJlZ2lzdGVyQ29udHJvbGxlcik7XG5cbiAgICBSZWdpc3RlckNvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgICAgICAgJyRodHRwJyxcbiAgICAgICAgJyRzY29wZScsXG4gICAgICAgICckcm9vdFNjb3BlJyxcbiAgICAgICAgJyRzdGF0ZSdcbiAgICBdO1xuXG4gICAgZnVuY3Rpb24gUmVnaXN0ZXJDb250cm9sbGVyKCRodHRwLCAkc2NvcGUsICRyb290U2NvcGUsICRzdGF0ZSkge1xuICAgICAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgICAgIHZtLmNvZGUgPSAnJztcblxuICAgICAgICB2bS5zdWJtaXQgPSBzdWJtaXQ7XG5cbiAgICAgICAgZnVuY3Rpb24gc3VibWl0KCkge1xuICAgICAgICAgICAgdm0uY29kZSA9IHZtLmNvZGUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2bS5jb2RlID0gdm0uY29kZS5yZXBsYWNlKC9cXHMrL2csICcnKTtcblxuICAgICAgICAgICAgY29uc29sZS5sb2codm0uY29kZSk7XG5cbiAgICAgICAgICAgIHZhciByZXEgPSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwaS92YWxpZGF0ZUNvZGVzJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YToge3RleHQ6IHZtLmNvZGV9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAkaHR0cChyZXEpXG4gICAgICAgICAgICAgICAgLnRoZW4oc3VjY2VzcywgZXJyb3IpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7Y29kZTogcmVzcG9uc2UuZGF0YS5jb2RlLCBzcG90c0xlZnQ6IHJlc3BvbnNlLmRhdGEuc3BvdHNMZWZ0LCBhdXRoOiB0cnVlfTtcblxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnUmVnaXN0ZXIuQ29kZVZhbGlkJywgZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncGFyYW1zJywgZGF0YSk7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdmb3JtJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdTb3JyeSwgdGhhdCBjb2RlIGlzIGludmFsaWQsIHBsZWFzZSBjaGVjayB0aGF0IHlvdSB0eXBlZCBpdCBjb3JyZWN0bHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdjbG9zZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH1cbn0pKCk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnY29kZXItZG9qby1zaWdudXAnKVxuLmNvbnRyb2xsZXIoJ1ZpZXdDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCwgJHN0YXRlKSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0JHNjb3BlLm5pbmphQ291bnQgPSAwO1xuXG5cdCRzY29wZS5uaW5qYXMgPSB7fTtcblxuXHQkc2NvcGUuZ2V0TmluamFDb3VudCA9IGZ1bmN0aW9uKCkge1xuXHRcdG5pbmphQ291bnQrKztcblx0XHRyZXR1cm4gbmluamFDb3VudDtcblx0fTtcblxuXHQkaHR0cC5nZXQoJy9hcGkvbmluamFMaXN0Jylcblx0LnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSkge1xuXHRcdCRzY29wZS5uaW5qYXMgPSBkYXRhO1xuXHR9KVxuXHQuZXJyb3IoZnVuY3Rpb24oZGF0YSkge1xuXG5cdH0pO1xufSk7IiwiKGZ1bmN0aW9uICgpIHtcbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2NvZGVyLWRvam8tc2lnbnVwJylcbiAgICAgICAgLmNvbmZpZyhjb25maWcpO1xuXG4gICAgY29uZmlnLiRpbmplY3QgPSBbXG4gICAgICAgICckc3RhdGVQcm92aWRlcicsXG4gICAgICAgICckdXJsUm91dGVyUHJvdmlkZXInXG4gICAgXTtcblxuICAgIGZ1bmN0aW9uIGNvbmZpZygkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XG4gICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9jbG9zZWQnKTtcblxuICAgICAgICAkc3RhdGVQcm92aWRlclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlcicsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXInLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvcmVnaXN0ZXIvcmVnaXN0ZXIuaHRtbCcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1JlZ2lzdGVyQ29udHJvbGxlcicsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdmb3JtJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9mb3JtJyxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVByb3ZpZGVyOiBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICR0ZW1wbGF0ZUNhY2hlLmdldCgnYXBwL2Zvcm0vZm9ybS5odG1sJyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnRm9ybUNvbnRyb2xsZXInXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnN0YXRlKCdhY2NlcHQnLCB7XG4gICAgICAgICAgICAgICAgdXJsOiAnL2FjY2VwdCcsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9hY2NlcHQvYWNjZXB0Lmh0bWwnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdBY2NlcHRDb250cm9sbGVyJyxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3RhdGUoJ2Vycm9yJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9lcnJvcicsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC9lcnJvci9lcnJvci5odG1sJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgnY2xvc2VkJywge1xuICAgICAgICAgICAgICAgIHVybDogJy9jbG9zZWQnLFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlUHJvdmlkZXI6IGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlQ2FjaGUuZ2V0KCdhcHAvY2xvc2VkL2Nsb3NlZC5odG1sJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zdGF0ZSgndmlldycsIHtcbiAgICAgICAgICAgICAgICB1cmw6ICcvdmlldycsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVQcm92aWRlcjogZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVDYWNoZS5nZXQoJ2FwcC92aWV3L3ZpZXcuaHRtbCcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1ZpZXdDb250cm9sbGVyJ1xuICAgICAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==